version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: xc14m0.wx6kpsghuoilc92n
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQekNCOHFBREFnRUNBaEVBOGtFUUkxTWVGK2JVTVpwQVJFQXhSakFGQmdNclpYQXdFREVPTUF3R0ExVUUKQ2hNRmRHRnNiM013SGhjTk1qUXhNakl4TWpFeE16QTFXaGNOTXpReE1qRTVNakV4TXpBMVdqQVFNUTR3REFZRApWUVFLRXdWMFlXeHZjekFxTUFVR0F5dGxjQU1oQUxPY2tWR29RaTcxR2RQcTFJMHVFR1djVFpMTXV3ZUZpbWtkCkVCOXlUYWIvbzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3RUcKQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkZyeUNpM0ZLZTNOSXpFUQpaeXNIY09nVjZDOXJNQVVHQXl0bGNBTkJBRjlCQ01yZ1lNMEd3cjhWZVorNWlRT2cwYUhNeVQweGc5c0VrRHl2CmVtNCtOZTBJM01EVjBLeTY3NlViVGp4d0lEdkJDczdRNjVYQ3VneHZHSkxQdGdnPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0KTUM0Q0FRQXdCUVlESzJWd0JDSUVJRUxueXgxWXZlNWF0YjBObE55bDhHaWVZclFEU05HRklTbXZOZ2pNQjkxNAotLS0tLUVORCBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0K
  certSANs:
    - 10.0.10.90
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.32.0
    extraArgs:
      rotate-server-certificates: "true"
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 10.0.10.0/24
    disableManifestsDirectory: true
  network:
    hostname: kube-ctrl-03
    interfaces:
      - deviceSelector:
          hardwareAddr: bc:24:11:69:59:67
        addresses:
          - 10.0.10.53/24
        routes:
          - network: 0.0.0.0/0
            gateway: 10.0.10.1
        mtu: 1500
        dhcp: false
        vip:
          ip: 10.0.10.90
    nameservers:
      - 10.0.10.1
    disableSearchDomain: true
  install:
    disk: /dev/sda
    image: factory.talos.dev/installer/95d432d6bb450a67e801a6ae77c96a67e38820b62ba4159ae7e997e1695207f7:v1.9.0
    wipe: false
  files:
    - content: |-
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
      permissions: 0o0
      path: /etc/cri/conf.d/20-customization.part
      op: create
  time:
    disabled: false
    servers:
      - 10.0.10.1
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    net.core.rmem_max: "7500000"
    net.core.wmem_max: "7500000"
    vm.nr_hugepages: "1024"
  features:
    rbac: true
    stableHostname: true
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: true
      resolveMemberNames: true
  nodeLabels:
    node.kubernetes.io/exclude-from-external-load-balancers: ""
cluster:
  id: ZnsvIiqAjw-2fAs5n9qNqkmo3zpEZdsn7gGPnr_Rutc=
  secret: nJnPKTNytr1c+q0Zqc+Fm3RFcgvYGf6vSpUwxwLhVfQ=
  controlPlane:
    endpoint: https://10.0.10.90:6443
  clusterName: toxic-home-kubernates
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  token: xntap9.4td5vnpfx6iq91aw
  secretboxEncryptionSecret: SOHTWJ2kGTBGsYEa0eF1Tnn71JYcWgfsNfoLY3W1m1k=
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpVENDQVRDZ0F3SUJBZ0lSQVBtVm5rUGZ5aEs0ODQ3RnlkQjZoUjB3Q2dZSUtvWkl6ajBFQXdJd0ZURVQKTUJFR0ExVUVDaE1LYTNWaVpYSnVaWFJsY3pBZUZ3MHlOREV5TWpFeU1URXpNRFJhRncwek5ERXlNVGt5TVRFegpNRFJhTUJVeEV6QVJCZ05WQkFvVENtdDFZbVZ5Ym1WMFpYTXdXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CCkJ3TkNBQVNQYTlBc0lPOUs0YW1wTEkza1QybjlPWk9YQlh5dUxXTTN5eGRRYTVFTEl0K1czU3FFeWlzdEFvUU4KeXlrWXlzMGl1cGFKS2NMVDMydkV6K25VNENWOG8yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXdIUVlEVlIwbApCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPCkJCWUVGSzFHWGo2MzdUSWkzNW1ocjl2LzZGK0g1RmJzTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUI4ZnFIMXIKY1hLRlhhWmRhcDN0Zno5V29nclpJUGJEaDNLdStkWDk0ZEkyQWlCM1dnL09TK1E2N1FtTDhlWGd3REFJTDhwZgpING9pNElQMEx6eTNGaUd6akE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUsvUkhxemFnV1g5dFFTMG1SM1pLdjZkL3NjbXU4YUtvdGt0WmR1azJpZTBvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFajJ2UUxDRHZTdUdwcVN5TjVFOXAvVG1UbHdWOHJpMWpOOHNYVUd1UkN5TGZsdDBxaE1vcgpMUUtFRGNzcEdNck5JcnFXaVNuQzA5OXJ4TS9wMU9BbGZBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  aggregatorCA:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJYekNDQVFXZ0F3SUJBZ0lRSGs1ZEtLcFQzQ2JMd1V0T29FUHNTVEFLQmdncWhrak9QUVFEQWpBQU1CNFgKRFRJME1USXlNVEl4TVRNd05Gb1hEVE0wTVRJeE9USXhNVE13TkZvd0FEQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxRwpTTTQ5QXdFSEEwSUFCUFBFbTBodzBEcnNWK0MzaU5Pa215RjRmb0JpN2hVdmorcmp4bXpxNFdwVjBlMHB1ckpJCllwTjU5QTNKbDJSeWh6dVhYVUVyQ0JaNit1QjEyb1NYTUhtallUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWQKQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZApCZ05WSFE0RUZnUVVWWEZJTUZrNUJXN3hGRzgrUm96SlEyMnFRQWN3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloCkFJc1dyT05hQ3RBYmtVUUcrRzNXaTJlTWdiaTI5c3hrNmwrZUdZNW1TOTdmQWlBYTgwLzg1cWZHQWc3Rm5wb08KR2NKcHBBMzRWMzJNUVY0OTM5TUo4aG1icEE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSU44akxXM2s2NGJZNnhaR1ltdm9WNTJSRjgrTDVmUGJza0djOUcxNGUwcUtvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFODhTYlNIRFFPdXhYNExlSTA2U2JJWGgrZ0dMdUZTK1A2dVBHYk9yaGFsWFI3U202c2toaQprM24wRGNtWFpIS0hPNWRkUVNzSUZucjY0SFhhaEpjd2VRPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  serviceAccount:
    key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS3dJQkFBS0NBZ0VBOGE3bDNEZUVWYnRLNkpWWk5vRkk1UkNQZkN4OGJHdzNCYk9HOWFjTDdZMWZscXlwCmFGakliZUJaYUUvS0NsUkZRc1hiQm1Ydjk3MDhpTk9KZm02N2xKSlhsbjZ2UndXajc5enVqZ1JBUjMyUnpWMksKY0lkUEFydTB2b3dzWlA2Qnk2Kyt5ZUNZMVI4Yy9WdTFOeVVaZ3Nxa0laZUoxRzhRYlNab3BaM3Q4dUxsNDNOYQptNllVdmw4Lyt1SlZHN3RFVWRCRFVsUEhRRHp6eE51TDN3enBBN0Y1eEk2NVdOS3JHNjRYQjk2aGhnall5VGlPClNLdWFNemFhSFdwVjRiTlNSUjJ5ZWZXeHEyc1p2TlVHSTBZTldWdk9pYWFHL1h6cVkxM21qTHBySG1BekFFcjkKei9uSnNMY0o4SlR6V2ttOS9EWDdvbzNTQnphMGw3UGEzODQ1UjZVQVF2QjNTNXBsNUZoMXRBNVVhUmpiOGo0OQpzVnJ5dzlONVFKT1MzcXhmQ1lmRE55STdUdHF3dGdSbDlLSEdoUlYraVNwU0Z4TGpPNHdVMnpsWTN5NDlzT0JZClJJVkNud01OMHczTXJNQzZrVWVWTWd1bjZoN010ZmRTQ1pNSFozcDI1b2xpS0ZudHk2bzlPKzFtU3lqVll6TXQKK3lBSENqVDdhcG4yUEVLYUVHR0ZQcEtDamI0T3JmQWhpUGxVUGdlaW1JM2c5VENFc2RHVGlwdUpSc0tMM24zeApMUkpkS0tJSnE2ZGI4dnAwcUEyb1JQRzVYdEhtVFE4ZG5kR1NIUjVXdGNncU1vczh6aGpxeFdVNnBveFd1UG9pCnFiU0dxYUZxYko5bGN3SW5rbk1CaGRIYkhwTE9xSTRZUUlJMFhJSHdiZFNWN2NOcnNUN2NJTXd6MTVjQ0F3RUEKQVFLQ0FnRUE0N0F3SVcyMElNaVlZOUlBQUZlQWd6MDgwSEZncnd5c01aVFd1cXVya3hzelNOSlZyMWFsVE02bApySjR1NjloRWdBbkN0SjVvbXU4UERxQ3IwZzhrYlc0SlVtRDdaRit0K0pZZHNISFUxUVU1elU0bzFLYkZDd0FuCjRiUlJScngzTDV2Y2xIZ2h3L2JSNnVieExJaXBKZzBlMy83Ui9PNjlmUGRJYzI3NzgyMUx3eUt6NUJ0dFE0U2MKMUJGU3VST040NzNmRHJxYTVxd0Z4QnBLQmRNMTJ5TGlZd2xMR0tFd1RwMk9XUDJuRW8xWEh3dEhFTE9LVEdGTwpoQlBmNFFoOW8xdTgveVUzUXhWZFpBY1ZCenBCN1VPT3F5UFYzUTVJQzJFMWlMTS9vNWhodEE3eVczTXFUbS9DCno0S2tXUlZNQlVZZVVTQm5GQ0MzdG92YzBpaUkwRit4aGNweDczZlIzKzJxZU1pZFVLNmowSjY4MVpCWmFka3gKeGxOQVB5dW9QZkk3OVk3bndwSVlCeFE5dFFSaXNxRVpYTEdjb2EzamtTaWJUVkVPZXFxcmVDVy9qenY2bVViTgp6QTNSWGhvMFZ3T2dzZEhFamFmRUE0VXRTeDJ0TWpnekRiSGpGOWZmWFhobFlaeHNGODBacmdvTEd5WTcra0xnClp5aitpK1l6VlB1ZkwxdWQxWGdOSmNtUEVMbUhyOWhXWGZJSDFWZEJXUkR4SXJYTmJOSzQvVlhsdGRuZTJnMTIKNEw4TFRwQjZITkppUk4xL0cvWE5rbmZUSU9jbm9UZ1dqTjRMSWlHYWN3YkppaXpydzFEMm91SW40MWhLMmlaeApJcmQ2emJLREFaV0FrM2ZKeU9FSkNoRzQwc2ZCRXhUSUgwRHMrMzVhek16LzdrQUJHbkVDZ2dFQkFQWlpDQnlKCkxRSUlkVnh2eUE5bG81aHlVR1BiOWMyQkduRjNQRDZ1WW5FemFYWkdCRklPRGt0dkxNZU1vek0rMUd5dFNVRnAKdXZYSHd0bnE0VDlSZ0VMWENqenNWQVY0SmFlbUtTcHJIWGVRd3p5c2pMSkdxbmxUVUtKemJuaVBKWUs0bFVuego5T0V5ZGF2YkJIRWFwTU13TnJCbGkvZyt3SFpkK0NBZUhKRGZadzNvalM0OEJJZUQzSEMzWXVERmxVb2hyc0MxCkNJdXg1eGpjNmoydy9SSi8vWnlSaGZxVk9nR3YrSzArOE50dUZHL2h0WG5HZGhGTHJyZTFORVp0WFlpRXRDekcKdWZYQm55R3NvUmNtTGY2RWljdDlqVXR5VEJYWVFNNHBWZ3dUdldmd1ZycmdDYVV3KzkvMW9HOTdzMUh5aHczVwppUWpDTC81Yk4wVFdlaFVDZ2dFQkFQc25GQm9IUlhCSUNpeHUrb1VaQ3FsdkZXSUVjSi9NdUxpNWtSUENvaHlzCk9tWS9jYzdyUzVTK1FvSmN2ZW93cDhNcHRSYU5nbVBhdC80UVlLdWZsUVA0cDZVZmNkY2hCTGRaT1FMbE1DTjYKNG5ObGVlMWtkL0YrVzVVek1GdDlrdHNqRnRLY3NMb1d2VWRXa3UyMHVXZ3ZWT25XbWV4RkxCSDZQYXZkd2xFWgpWMU5oRXRXYTdNeU5aZVB2QlA5djltN3ArcUFjVkNPUWNSRy8rVDRUVWZBc2M1QmlVTTkzZ3RhVWQ3dzFnN09xCjBGMmFhZlEwY3BpVDRrS1dQZ2YraXY2eWpIQlRRaUcvWlVLcmJQWnRmNzJhWUR6Zkw1bEdjVUp6TmM2c3BaRlAKdnVJa2dvbFNabGRjOW9mY2dFOW9MN0dPNmQxNkFmNERYLy9rb2k0RDBmc0NnZ0VCQUpHWEZLQW93aHpOZXU3aQpjVTRJTjZORkRCVzRUWkRpbUFvdStiL2h0L1JHK2pFWU9EMTJhU1JUMUJjckd0aVNiV0M5R09vNzNtNmJYS0VGCm01R2NUVDB6Y2EySHpqQmRUWVBEUTlqNTdUUllyY29TQUNUc2RwdTFqWlkwdWprdUFIRTlQWjJ6UENwTGRCZloKSE1ycmdDeUxOZ2NTUEtLK0UyamhLRjl5N0ZjQ2NSbGJNdlQ4SzRFYmdSQnNrVmRkN2xrZGh2WUZCOFBucERpaApkeDUybDFwem9pTUNMamhtTVI0R0xlWFZxT3RHSjNYbjR5VFJFYjR2Q0ZjeUZHNzYrNmhQSlZ6QkplNEVQRlBlCmZtWDcvbnJKUWRhdG9PL1I0UDJZRE5US3dUdnAvcXFLOC9jRnFTMmp3WGdlNW01OG9RSHhYN2ZoN3FMcWdRckcKUmVlOUNmRUNnZ0VCQU5qLzlkVmJiUHJMczhhYWlPaFJMNjRmcFprUC93T0RUaU9GYWoxcGtNbzNZU29STFZNOAphQXgzcTEyWnBobmZ1a1BkR0hNSkI1MGhVSkk3TWx0M1FiaXhzcC93SUZ0aFV3TGNHMjlOK1I3ZXdTUTFqSGk1CnN3eThRWU1UUEhnQWNzL1diSlRDLzh0NWRFZGNIUTAzZG03M1htWEFuelBPdkhvMy9lc3Vhd1BKWW5OUFQ0ZXkKR1dIUDFqWnZ3YUMyNjNUL3d5VnQ5S0RaMzJnWHQ5R1R2ZHRIZlA1R2hFNE5rOFcxZUJMdEpnTXAxbWpaenl4SgoySzNPTU5PWm5yVW5rSTdxVkgrRTRJSHFMaUxCblI3NmswR09UaEtxUUNVdUFSUUtHWGFlSTF2L1RBMTJ3RGJJCk5GYk5vdERXaXlLUkFZeG56OWNsNE96Sm03dXNueGdsQXRzQ2dnRUJBTVoyNmJqWUZkZzNHZFNSNHVERFpWNzcKcFh1cUJVbldqaGpJQlRYR3NZTXBXYTFtNnVXWERpSHFQQzRVSFJtK1hyb2tsenZUejh5Z2V2NzZSS1pQM2QrSgpNR2Zhd2s5WCtBZGw4YUpoUEQzamxQYko0ZjJNODNjd3pkVFJtYjNDYTFxVk9pRWJrdVgxWXQyYXhoWFA2TGhkCjZhMmdwOXl5dEJtRk52cWNOSEhtOUJjL2FodndLbVdkRlcyTnlSV2htTXhGWkJGS2RCOVpObytLUWlCdWhselUKRXpHYUQzOHNFQ3FZTy9wbEJVWmdQVnE2VU5NYnEyalZqWFVqVTd5dHYzT1pCQVRpczlVelR4NjVnbEtPZDdBdQpGaFYzUEN2cGpOVk9jbEFkUk1TOEdLVHhrSGRucE9ZMkk2VTRyVTZQN3ZqVDNwcm9HQ3dWS1BPaWxEMFA4TkE9Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
  apiServer:
    image: registry.k8s.io/kube-apiserver:v1.32.0
    certSANs:
      - 10.0.10.90
      - 10.0.10.90
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:v1.32.0
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:v1.32.0
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.32.0
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - pluginConfig:
            - args:
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
                defaultingType: List
              name: PodTopologySpread
          schedulerName: default-scheduler
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: true
      service: {}
  etcd:
    ca:
      crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJmekNDQVNTZ0F3SUJBZ0lSQVAwRkV3ZnRoTHZZSHB2YkhiVnJ6SXd3Q2dZSUtvWkl6ajBFQXdJd0R6RU4KTUFzR0ExVUVDaE1FWlhSalpEQWVGdzB5TkRFeU1qRXlNVEV6TURSYUZ3MHpOREV5TVRreU1URXpNRFJhTUE4eApEVEFMQmdOVkJBb1RCR1YwWTJRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFUbW5KbEtQNTh5CjJIQ04xSjRVbnNPTUJhMUU1emVkT1FDeWNKQk92bFhKZURrMk9KelNITlFPeVpmekR5eHYrNnNwanorcjRuVC8KZHQvSDM1bEY5ZGNLbzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSApBd0VHQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRk8wSnhpVnkyd3pWCmdqU1hrdHYxZDFUSW1wS3RNQW9HQ0NxR1NNNDlCQU1DQTBrQU1FWUNJUURCdVd3dklwYkJwdTd0dFpQMWR0WFEKNTFGc1R3ZTJKT3lTV2NZQ3orYXZlZ0loQVBXWG91WWluamhldzdJQktSUCtWVWdtemJ3bTZOTFYzTy80L2orLwplcStsCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
      key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUljaEtVYTUwTitYTmhhUGhzWWJrY25obVZnOHRickpFb0xWemQwSkR3dFhvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFNXB5WlNqK2ZNdGh3amRTZUZKN0RqQVd0Uk9jM25Ua0FzbkNRVHI1VnlYZzVOamljMGh6VQpEc21YOHc4c2IvdXJLWTgvcStKMC8zYmZ4OStaUmZYWENnPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.0.10.0/24
  coreDNS:
    disabled: true
  allowSchedulingOnControlPlanes: true
